#rasp_ubuntu20_04烧录
#rasp_ubuntu20_04联网

# 常用命令
#Rasp常用命令
1. hostname -I
2. ip a
3. sudo apt update && sudo apt upgrade -y
4. cd /home/ubuntu（等价于cd /~/）

# 树莓派烧录、入网
1. [《Ubuntu 20.04.5 LTS (Focal Fossa)》 --- Ubuntu 20.04.5 LTS (Focal Fossa)](https://cdimage.ubuntu.com/releases/focal/release/)
2. ubuntu-20.04.5-preinstalled-server-arm64+raspi.img.xz](https://cdimage.ubuntu.com/releases/focal/release/ubuntu-20.04.5-preinstalled-server-arm64+raspi.img.xz)
3. 接入网线，通过网线共享网络、以及共享网络配置
	1. 需要设置网络![[Pasted image 20251029124508.png]]![[Pasted image 20251029124548.png]]
	2. 下一步设置主机端clash-verge
		1. 测试发现，仅仅开启代理+全局+局域网等等，便可![[Pasted image 20251029124840.png]]![[Pasted image 20251029124939.png]]
	3. 稍等片刻，拔插下网线；可以看到，树莓派端已经可以上网![[Pasted image 20251029124615.png]]
		1. 测试update，upgrade，正常连接ubuntu服务器进行更新

# 树莓派设置桌面
1. gnome太卡了，换用mate-desktop
2. 系统设置中，订阅电脑端口”ip“"四位数端口号"，
3. 主机关闭内部网络防火墙【需要设置当前主机连接的网络属性为内部网络--之前的设置，所有涉及关闭防火墙操作的，都要注意仅仅关闭内部网络，即环路内可信网络；比如手机热点、自有路由器等等】（当前连接的是”Lin“手机热点，主机~树莓派通过网线连接；后续树莓派连接手机热点wifi即可）![[Pasted image 20251029145040.png]]


# 树莓派静态ip设置-从桌面环境
#nomachine
**开机后，有概率树莓派端更换ip（当前连接的是手机的热点）**
**后续更换到随身wifi需要注意再次修改**
1. 当前mate桌面![[Pasted image 20251030105516.png]]
2. 当前设置界面![[Pasted image 20251030105600.png]]
3. 已经设置完毕，现在测试-命令行&&浏览器
	1. terminal![[Pasted image 20251030105728.png]]
	2. google![[Pasted image 20251030105859.png]]
	3. 知乎![[Pasted image 20251030105918.png]]
	4. 测试完毕，成功修改

# 树莓派远程显示
[树莓派ros兼容性与网线](https://chatgpt.com/c/68a68fdc-4c6c-8329-b362-c818c77d8dd6)
1. vscode-remote-ssh
	1. 重启后，遇到问题；树莓派更换了ip地址，且主机连接ssh时，每个设备都会留一个指纹，这个无法靠vscode中删除，需要在terminal中
	2. hostname -I
	3. sudo apt install openssh-server
	4. sudo systemctl enable ssh
	5. sudo systemctl start ssh
	6. sudo systemctl status ssh
	7. sudo apt update && sudo apt upgrade -y
	8. x11vnc -display :0 -auth guess -forever -rfbport 5900
2. 远程桌面转发
	1. realvnc
		1. 成功使用，但是太过卡顿![[Pasted image 20251030111825.png]]
	2. 考虑换用nomachine
		1. [Nomachine使用方法](https://chatgpt.com/c/6902d14e-d854-8321-bfe9-71de166bce94)
		2. windows
		3. aarch Linux
			1. 显示当前处理器信息
				1. lscpu![[Pasted image 20251030112306.png]]
				2. 根据显示信息，在树莓派下前往nomachine
					1. [Downloads – Download](https://download.nomachine.com/download/?id=29&platform=linux&distro=raspberry)
					2. 下载、安装arm64
					3. 成功显示，当nomachine与realvnc处于同屏时，拖动窗口进行移动，明显nomachine表现更好。![[Pasted image 20251030114734.png]]
					4. 且发现，nomachine不用保持x11转发

# 树莓派编译ros1noetic源码，GPG重装
#ROS1-noetic-GPG密钥
[Nomachine使用方法](https://chatgpt.com/c/6902d14e-d854-8321-bfe9-71de166bce94)
1. 密钥问题
	1. 手动下载
	2. 强制移动
	3. 确认了密钥存在且必要
	4. 最后进行了GPG重装，解决密钥问题；顺带解决掉了"sudo apt update && sudo apt upgrade -y"报错问题，现在并无问题



# 树莓派与windows主机文件传输
[安装后 :: WinSCP --- After Installation :: WinSCP](https://winscp.net/eng/docs/after_installation?ver=6.5.4&lang=chs&utm_source=winscp&utm_medium=setup&utm_campaign=6.5.4&prevver=&automatic=0)
[树莓派安装准备](https://chatgpt.com/c/690425fc-543c-8320-9277-1465b66465fa)
#winSCP
1. winSCP
	1. 支持拖拽传输
	2. 仅需简单设置（目标机用户名、ip、密码；端口默认即可），即可使用
		1. ![[Pasted image 20251031135852.png]]

# 树莓派安装开发ros时常用工具
[树莓派安装准备](https://chatgpt.com/c/690425fc-543c-8320-9277-1465b66465fa)